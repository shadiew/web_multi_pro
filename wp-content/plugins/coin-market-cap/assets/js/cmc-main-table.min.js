!function($){"use strict";let CMC_REQUEST="main_list";function cmc_get_watch_list(){if(null===localStorage.getItem("cmc_watch_list"))return!1;let oldArr=localStorage.getItem("cmc_watch_list").split(","),arr=new Array;if(!1!==oldArr.length)for(const el of oldArr)arr.push(el);return arr}var watchTitle,unwatchTitle,source;$.fn.cmcDatatable=function(){var $cmc_table=$(this),columns=[],fiatSymbol=$cmc_table.data("currency-symbol"),enableSearch=$cmc_table.data("datatable-search"),searchLabel=$cmc_table.data("search-label"),fiatCurrencyRate=$cmc_table.data("currency-rate"),category=$cmc_table.data("category"),pagination=$cmc_table.data("pagination");watchTitle=$cmc_table.data("watch-title"),unwatchTitle=$cmc_table.data("unwatch-title");var totalCoins=$cmc_table.data("total-coins"),fiatCurrency=$cmc_table.data("old-currency"),preloaderPath=$cmc_table.find("thead").data("preloader"),prevtext=$cmc_table.data("prev-coins"),nexttext=$cmc_table.data("next-coins"),is_milbil_enable=$cmc_table.data("number-formating"),zeroRecords=$cmc_table.data("zero-records"),linksTab=$cmc_table.data("link-in-newtab"),loadingLbl=$cmc_table.data("loadinglbl"),defaultLogo=$cmc_table.parents("#cryptocurency-market-cap-wrapper").data("default-logo"),domain,storagename="cmc-selected-currency-"+data_object.domain_url;$cmc_table.find("thead th").each((function(index){var index=$(this).data("index"),thisTH=$(this),classes=$(this).data("classes");columns.push({data:index,name:index,render:function(data,type,row,meta){if(void 0===meta.settings.json)return data;switch(index){case"rank":if(null!==localStorage.getItem("cmc_watch_list")){let arr,coin_exist;if(cmc_get_watch_list().findIndex(ar=>ar==row.coin_id)>-1)var html='<div data-coin-id="'+row.coin_id+'" class="btn_cmc_watch_list cmc_onwatch_list cmc_icon-star" title="'+unwatchTitle+'"></div>';else var html='<div data-coin-id="'+row.coin_id+'" class="btn_cmc_watch_list cmc_icon-star-empty" title="'+watchTitle+'"></div>'}else var html='<div data-coin-id="'+row.coin_id+'" class="btn_cmc_watch_list cmc_icon-star-empty"></div>';return html+" "+data;case"name":var singleUrl=thisTH.data("single-url"),urlType=thisTH.data("url-type"),tabLink=thisTH.data("link-in-newtab"),link_target="_self",html;if(1==parseInt(tabLink))var link_target="_blank";if("default"==urlType)var url=singleUrl+"/"+row.symbol+"/"+row.coin_id+"/";else var url=singleUrl+"/"+row.symbol+"/"+row.coin_id+"/"+fiatCurrency+"/";return html='<div class="'+classes+'"><a target="'+link_target+'" title ="'+data+'" href = "'+url+'" style = "position: relative; overflow: hidden;" ><span class="cmc_coin_logo">                             <img style="width:32px;" id="'+data+'"  src="'+row.logo+'"  onerror="this.src=\''+defaultLogo+'\';"></span>                             <span class="cmc_coin_symbol">('+row.symbol+')</span>                             <br>                             <span class="cmc_coin_name cmc-desktop">'+data+"</span>                             </a></div>";case"price":if(void 0!==data&&null!=data){if(data<=0){fiatSymbol="";var formatedVal="N/A"}else if(data>=25)var formatedVal=numeral(data).format("0,0.00");else if(data>=.5&&data<25)var formatedVal=numeral(data).format("0,0.000");else if(data>=.01&&data<.5)var formatedVal=numeral(data).format("0,0.0000");else if(data>=1e-4&&data<.01)var formatedVal=numeral(data).format("0,0.00000");else var formatedVal=numeral(data).format("0,0.00000000");return'<div data-val="'+row.usd_price+'" class="'+classes+'"><span class="cmc-formatted-price">'+fiatSymbol+formatedVal+"</span></div>"}return'<div class="'+classes+">?</div>";case"percent_change_24h":case"percent_change_7d":case"percent_change_30d":case"percent_change_1y":if(void 0!==data&&null!=data){var changesCls="up",wrpchangesCls="cmc-up",html;if(void 0===Math.sign&&(Math.sign=function(x){return x>0?1:x<0?-1:x}),-1==Math.sign(data))var changesCls="down",wrpchangesCls="cmc-down";return html='<div class="'+classes+" "+wrpchangesCls+'"><span class="changes '+changesCls+'"><i class="cmc_icon-'+changesCls+'" aria-hidden="true"></i>'+data+"%</span></div>"}return'<div class="'+classes+'">?</span></div>';case"market_cap":var formatedVal;return(formatedVal=data)<=0?'<div class="'+classes+'">N/A</span></div>':(formatedVal=void 0!==is_milbil_enable&&"1"==is_milbil_enable?numeral(data).format("(0.00 a)"):formatedVal.toString(),void 0!==data&&null!=data?'<div data-val="'+row.usd_market_cap+'" class="'+classes+'">'+fiatSymbol+formatedVal.toUpperCase()+"</div>":'<div class="'+classes+'">?</span></div>');case"volume":var formatedVal;return(formatedVal=data)<=0?'<div class="'+classes+'">N/A</span></div>':(formatedVal=void 0!==is_milbil_enable&&"1"==is_milbil_enable?numeral(data).format("(0.00 a)"):formatedVal.toString(),void 0!==data&&null!=data?'<div data-val="'+row.usd_volume+'" class="'+classes+'">'+fiatSymbol+formatedVal.toUpperCase()+"</div>":'<div class="'+classes+'">?</span></div>');case"supply":if(data<=0)return'<div class="'+classes+'">N/A</span></div>';if(void 0!==data&&null!=data){var formatedVal=numeral(data).format("(0.00 a)");return'<div class="'+classes+'">'+formatedVal.toUpperCase()+" "+row.symbol+"</div>"}return'<div class="'+classes+'">?</span></div>';case"ath":var athVal=data;if(void 0!==athVal&&null!=athVal){var symbols=fiatSymbol;if(athVal<=0){symbols="";var formatedVal="N/A"}else if(athVal>=25)var formatedVal=numeral(athVal).format("0,0.00");else if(athVal>=.5&&athVal<25)var formatedVal=numeral(athVal).format("0,0.000");else if(athVal>=.01&&athVal<.5)var formatedVal=numeral(data).format("0,0.0000");else if(athVal>=1e-4&&data<.01)var formatedVal=numeral(athVal).format("0,0.00000");else var formatedVal=numeral(athVal).format("0,0.00000000");return'<div data-val="'+row.ath+'" class="'+classes+'">'+symbols+formatedVal+"</div>"}return'<div class="cmc-ath-no-val"><span>N/A</span></div>';case"high_24h":var high=data,curr_symbols=fiatSymbol;if(null!=high){if(high<=0){curr_symbols="";var formatedVal="0.0000"}else if(high>=25)var formatedVal=numeral(high).format("0,0.00");else if(high>=.5&&high<25)var formatedVal=numeral(high).format("0,0.000");else if(high>=.01&&high<.5)var formatedVal=numeral(high).format("0,0.0000");else if(high>=1e-4&&high<.01)var formatedVal=numeral(high).format("0,0.00000");else var formatedVal=numeral(high).format("0,0.00000000");return'<div data-val="'+row.high_24h+'" class="'+classes+'">'+curr_symbols+formatedVal+"</div>"}return'<div class="'+classes+'"><span>N/A</span></div>';case"low_24h":var low=data,curr_symbol=fiatSymbol;if(void 0!==low&&null!=low){if(low<=0){curr_symbol="";var formatedVal="N/A"}else if(low>=25)var formatedVal=numeral(low).format("0,0.00");else if(low>=.5&&low<25)var formatedVal=numeral(low).format("0,0.000");else if(low>=.01&&low<.5)var formatedVal=numeral(low).format("0,0.0000");else if(low>=1e-4&&low<.01)var formatedVal=numeral(low).format("0,0.00000");else var formatedVal=numeral(low).format("0,0.00000000");return'<div data-val="'+row.low_24h+'" class="'+classes+'">'+curr_symbol+formatedVal+"</div>"}return'<div class="'+classes+'">?</span></div>';case"ath_change_percentage":var ath_chnage_per=data;if(void 0!==ath_chnage_per&&null!=ath_chnage_per){var changesCls="up",wrpchangesCls="cmc-up",html;if(void 0===Math.sign&&(Math.sign=function(x){return x>0?1:x<0?-1:x}),-1==Math.sign(ath_chnage_per))var changesCls="down",wrpchangesCls="cmc-down";return html='<div class="'+classes+" "+wrpchangesCls+'"><span class="changes '+changesCls+'"><i class="cmc_icon-'+changesCls+'" aria-hidden="true"></i>'+ath_chnage_per+"%</span></div>"}return'<div class="'+classes+'">?</span></div>';case"ath_date":var ath_date,split_date=data.split(" ")[0];return void 0!==split_date&&null!=split_date&&"0000-00-00"!=split_date?'<div class="'+classes+'">'+split_date+"</div>":'<div class="'+classes+'">N/A</span></div>';case"weekly_chart":var chart_data="",gChart="",dynamic_color="data-bg-color='#90EE90' data-color='#006400'",chart_cls="weekly_up";if("false"==row.weekly_chart){chart_data="undefined";var gChart="false"}else{chart_data=row.weekly_chart;var data_array=JSON.parse(chart_data),first_ele=data_array[0],last_ele=data_array[data_array.length-1],gChart="true";if(parseFloat(last_ele)>parseFloat(first_ele))var dynamic_color="data-bg-color='#90EE90' data-color='#006400'",chart_cls="weekly_up";else var dynamic_color="data-bg-color='#ff9999' data-color='#ff0000'",chart_cls="weekly_down";let result=null;data_array.forEach((function(item){result=!(item<="0.000000"&&1!=result)})),(!1===result||data_array.length<=1)&&(chart_data="undefined",gChart="false")}return'<div class="'+classes+" "+chart_cls+'"><div class="cmc_spinner"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div><div style="width:100%;height:100%;" class="ccpw-chart-container"><canvas  data-content='+chart_data+" "+dynamic_color+'data-coin-symbol="'+row.symbol+'"   data-create-chart="'+gChart+'"  data-cache="true"  class="cmc-sparkline-charts"  id="small-coinchart" width="168" height="50"  style="display: block; height: 40px;  width: 135px;"></canvas></div>'}},createdCell:function(td,cellData,rowData,row,col){$(td).attr("data-sort",cellData)}})})),$cmc_table.DataTable({deferRender:!0,serverSide:!0,ajax:{url:data_object.api_url,type:"POST",dataType:"JSON",data:function(d){d.nonce=data_object.nonce,d.action="dt_get_coins_list",d.currency=fiatCurrency,d.category=category,d.search=d.search.value,"watch_list"==CMC_REQUEST||"true"==localStorage.getItem("cmc-favorite-view")?(d.coinID=cmc_get_watch_list(),d.totalCoins=d.coinID.length):"main_list"==CMC_REQUEST&&(d.totalCoins=totalCoins),d.currencyRate=fiatCurrencyRate},error:function(xhr,error,thrown){}},ordering:!1,destroy:!0,searching:enableSearch,pageLength:pagination,columns:columns,lengthChange:!1,dom:'<"top"iflp<"clear">>rt<"bottom"iflp<"clear">>',pagingType:"simple",processing:!0,language:{processing:loadingLbl,loadingRecords:loadingLbl,searchPlaceholder:searchLabel,search:"_INPUT_",paginate:{next:nexttext,previous:prevtext}},zeroRecords:zeroRecords,emptyTable:zeroRecords,renderer:{header:"bootstrap"},drawCallback:function(settings){if($cmc_table.find(".cmc-sparkline-charts").each((function(index){$(this).cmcgenerateSmallChart()})),$cmc_table.tableHeadFixer({head:!0,foot:!1,left:2,right:!1,"z-index":1}),localStorage.getItem(storagename)){let cache=localStorage.getItem(storagename),currency;if(null!=cache){try{currency=JSON.parse(cache)}catch(e){return console.error("Does not found valid JSON in localstorage"),!1}let currencySelectorBox="#cmc_usd_conversion_box";$(currencySelectorBox).val(currency.cur),$(currencySelectorBox).trigger("change")}}setTimeout(()=>{$("#cmc_coinslist").hasClass("cmc_live_updates")&&$(this).setupWebSocket()},1200)},createdRow:function(row,data,dataIndex){$(row).attr("data-coin-id",data.coin_id),$(row).attr("data-coin-old-price",data.price),$(row).attr("data-coin-symbol",data.symbol),$(row).attr("data-trading-pair",data.symbol+"USDT")},initComplete:function(settings,json){if(localStorage.getItem(storagename)){let cache=localStorage.getItem(storagename),currency;if(null!=cache){try{currency=JSON.parse(cache)}catch(e){return console.error("Does not found valid JSON in localstorage"),!1}let currencySelectorBox="#cmc_usd_conversion_box";$(currencySelectorBox).val(currency.cur),$(currencySelectorBox).trigger("change")}}}})},$("#cmc_coinslist").cmcDatatable(),new Tablesort(document.getElementById("cmc_coinslist"),{descending:!0});var cmc_search_cache=lscache.get("cmc_coin_search");function cmc_init_search(){source.initialize();var noResults=$("#custom-templates").attr("data-no-result"),cmc_link=$("#custom-templates").attr("data-slug");$("#custom-templates .typeahead").typeahead(null,{name:"matched-links",displayKey:"name",source:source.ttAdapter(),templates:{empty:'<div class="empty-message">'+noResults+"</div>",header:'<h6 class="league-name">Result</h6>',suggestion:function(coin){let currency=jQuery("#cmc_usd_conversion_box").val(),link=cmc_link+coin.symbol+"/"+coin.id;null!=currency&&(link+="/"+currency);var html='<div class="cmc-search-sugestions"><a href="'+link+'" onclick="'+link+'"">';return html+=coin.name+" ("+coin.symbol+")</a></div>"}}})}null==cmc_search_cache?$.ajax({type:"POST",dataType:"json",url:data_object.ajax_url,data:{action:"cmc_ajax_search"},async:!0,beforeSend:function(){$(".typeahead.tt-input").attr("disabled","disabled")},success:function(response){lscache.set("cmc_coin_search",response,1440),source=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace(["name","symbol"]),queryTokenizer:Bloodhound.tokenizers.whitespace,local:response}),$(".typeahead.tt-input").removeAttr("disabled"),cmc_init_search()}}):(source=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace(["name","symbol"]),queryTokenizer:Bloodhound.tokenizers.whitespace,local:cmc_search_cache}),cmc_init_search()),$(".cmc_conversions").on("change",(function(){var selected_curr=$("option:selected",this).val(),currencySymbol=$("option:selected",this).data("currency-symbol"),currencyRate=$("option:selected",this).data("currency-rate"),domain,storagename="cmc-selected-currency-"+data_object.domain_url;let cache_selectedCurr=localStorage.setItem(storagename,'{"cur":"'+selected_curr+'","sym":"'+currencySymbol+'","rate":"'+currencyRate+'"}');$("#cmc_coinslist").find("tbody tr").each((function(index){$(".typeahead").typeahead("val","");var priceTD=$(this).find(".cmc-price"),coinDiv=$(this).find(".cmc-name"),coinName=$(this).attr("data-coin-id"),coinSymbol=$(this).attr("data-coin-symbol"),cmcAth=$(this).find(".cmc-ath"),high24H=$(this).find(".cmc-high"),low24H=$(this).find(".cmc-low");let singlePageUrl=$(this).parents("#cmc_coinslist").find("thead th[data-single-url]").attr("data-single-url");var volTD=$(this).find(".cmc-vol"),capTD=$(this).find(".cmc-market-cap"),is_milbil_enable=$(this).parents("#cmc_coinslist").data("number-formating");coinDiv.find("a").attr("href",singlePageUrl+"/"+coinSymbol+"/"+coinName+"/"+selected_curr);var coinPrice=priceTD.data("val"),cmcVol=volTD.data("val"),cmcMarketCap=capTD.data("val"),ath=cmcAth.data("val"),high=high24H.data("val"),low=low24H.data("val");if("BTC"==selected_curr)var convertedPrice=coinPrice/currencyRate,convertedVol=cmcVol/currencyRate,convertedCap=cmcMarketCap/currencyRate,convertedAth=ath/currencyRate,convertedhigh24H=ath/currencyRate,convertedlow24H=ath/currencyRate,formatedPrice=numeral(convertedPrice).format("0,0.0000000"),formatedAth=numeral(convertedAth).format("0,0.0000000"),formatedVol=numeral(convertedVol).format("0,0"),formatedCap=numeral(convertedCap).format("0,0"),formatedhigh24H=numeral(convertedhigh24H).format("0,0.0000000"),formatedlow24H=numeral(convertedlow24H).format("0,0.0000000");else{var convertedPrice,convertedVol=cmcVol*currencyRate,convertedCap=cmcMarketCap*currencyRate,convertedAth=ath*currencyRate,convertedhigh24H=high*currencyRate,convertedlow24H=low*currencyRate;if((convertedPrice=coinPrice*currencyRate)<.5)var formatedPrice=numeral(convertedPrice).format("0,0.000000");else var formatedPrice=numeral(convertedPrice).format("0,0.00");if(convertedAth<.5)var formatedAth=numeral(convertedAth).format("0,0.000000");else var formatedAth=numeral(convertedAth).format("0,0.00");if(convertedhigh24H<.5)var formatedhigh24H=numeral(convertedhigh24H).format("0,0.000000");else var formatedhigh24H=numeral(convertedhigh24H).format("0,0.00");if(convertedlow24H<.5)var formatedlow24H=numeral(convertedlow24H).format("0,0.000000");else var formatedlow24H=numeral(convertedlow24H).format("0,0.00");if(void 0!==is_milbil_enable&&"1"==is_milbil_enable)var formatedVol=numeral(convertedVol).format("(0.00 a)").toUpperCase(),formatedCap=numeral(convertedCap).format("(0.00 a)").toUpperCase();else var formatedVol=convertedVol,formatedCap=convertedCap}priceTD.html(currencySymbol+'<span class="cmc-formatted-price">'+formatedPrice+"</span>"),capTD.html(currencySymbol+formatedCap),volTD.html(currencySymbol+formatedVol),"0.00"==cmcAth?cmcAth.html('<span class="cmc-formatted-ath">N/A</span>'):cmcAth.html(currencySymbol+'<span class="cmc-formatted-ath">'+formatedAth+"</span>"),"0.00"==formatedhigh24H||"0.000000"==formatedhigh24H?high24H.html('<span class="cmc-formatted-high">N/A</span>'):high24H.html(currencySymbol+'<span class="cmc-formatted-high">'+formatedhigh24H+"</span>"),"0.00"==formatedlow24H||"0.000000"==formatedlow24H?low24H.html('<span class="cmc-formatted-high">N/A</span>'):low24H.html(currencySymbol+'<span class="cmc-formatted-low">'+formatedlow24H+"</span>")}))})),jQuery(document).on("click",".btn_cmc_watch_list",(function(evt){evt.preventDefault();let THIS=jQuery(this),ID=jQuery(THIS).attr("data-coin-id");var arr=new Array;if(null!==localStorage.getItem("cmc_watch_list")&&""!=localStorage.getItem("cmc_watch_list")){let coin_exist=(arr=cmc_get_watch_list()).findIndex(ar=>ar==ID);-1!=coin_exist?(arr.splice(coin_exist,1),THIS.removeClass("cmc_onwatch_list cmc_icon-star").addClass("cmc_icon-star-empty"),THIS.attr("title",watchTitle)):(arr.push(ID),THIS.removeClass("cmc_icon-star-empty").addClass("cmc_onwatch_list cmc_icon-star"),THIS.attr("title",unwatchTitle))}else arr.push(ID),THIS.removeClass("cmc_icon-star-empty").addClass("cmc_onwatch_list cmc_icon-star"),THIS.attr("title",unwatchTitle);0==arr.length?localStorage.removeItem("cmc_watch_list"):localStorage.setItem("cmc_watch_list",arr)})),jQuery(document).on("click","#cmc_toggel_fav",(function(event){event.preventDefault();var THIS=$(this);THIS.hasClass("cmc_icon-star-empty")?(localStorage.setItem("cmc-favorite-view",!0),THIS.removeClass("cmc_icon-star-empty").addClass("cmc_icon-star"),CMC_REQUEST="watch_list",$("#cmc_coinslist").cmcDatatable()):(localStorage.removeItem("cmc-favorite-view"),CMC_REQUEST="main_list",THIS.removeClass("cmc_icon-star").addClass("cmc_icon-star-empty"),$("#cmc_coinslist").cmcDatatable())})),"true"==localStorage.getItem("cmc-favorite-view")&&$("#cmc_toggel_fav").removeClass("cmc_icon-star-empty").addClass("cmc_icon-star")}(jQuery);